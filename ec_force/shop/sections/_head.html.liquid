{% capture yield_title %}{% yield title %}{% endcapture %}
{% capture yield_description %}{% yield meta_description %}{% endcapture %}
{% capture yield_keywords %}{% yield meta_keywords %}{% endcapture %}
{% capture yield_og_image %}{% yield og_image %}{% endcapture %}
{% capture yield_header_content %}{% yield header_content %}{% endcapture %}
{% capture yield_additional_header_content %}{% yield additional_header_content %}{% endcapture %}

{% capture title %}
  {% if yield_title == '' %}
    {% if shop_shared_meta_tag.meta_title == '' or shop_shared_meta_tag.meta_title == null %}
      {% if base_info.meta_title == '' or base_info.meta_title == null %}
        {{ base_info.shop_name }}
      {% else %}
        {{ base_info.meta_title }}
      {% endif %}
    {% else %}
      {{ shop_shared_meta_tag.meta_title }}
    {% endif %}
  {% else %}
    {{ yield_title }}
  {% endif %}
{% endcapture %}

{% capture meta_description %}
  {% if yield_description == '' %}
    {% if product.meta_description == '' or product.meta_description == null %}
      {% if shop_shared_meta_tag.meta_description == '' or shop_shared_meta_tag.meta_description == null %}
        {{ base_info.meta_description }}
      {% else %}
        {{ shop_shared_meta_tag.meta_description }}
      {% endif %}
    {% else %}
      {{ product.meta_description }}
    {% endif %}
  {% else %}
    {{ yield_description }}
  {% endif %}
{% endcapture %}

{% capture meta_keywords %}
  {% if yield_keywords == '' %}
    {% if product.meta_keywords == '' or product.meta_keywords == null %}
      {% if shop_shared_meta_tag.meta_keyword == '' or shop_shared_meta_tag.meta_keyword == null %}
        {{ base_info.meta_keyword }}
      {% else %}
        {{ shop_shared_meta_tag.meta_keyword }}
      {% endif %}
    {% else %}
      {{ product.meta_keywords }}
    {% endif %}
  {% else %}
    {{ yield_keywords }}
  {% endif %}
{% endcapture %}

{% capture og_image %}
  {% if yield_og_image == '' %}
    {% if shop_shared_meta_tag.sns_ogp_logo.url == null %}
      {{ base_info.sns_ogp_logo.url }}
    {% else %}
      {{ shop_shared_meta_tag.sns_ogp_logo.url }}
    {% endif %}
  {% else %}
    {{ yield_og_image }}
  {% endif %}
{% endcapture %}

{{ yield_header_content }}
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="content-language" content="ja">
<title>{{ title | strip }}</title>
<meta name="description" content="{{ meta_description | strip }}">
<meta name="keywords" content="{{ meta_keywords | strip }}">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
<meta name="format-detection" content="telephone=no">
<meta name="twitter:card" content="summary_large_image">
<meta property="og:title" content="{{ title | strip }}">
<meta property="og:description" content="{{ meta_description | strip }}">
<meta property="og:type" content="website">
<meta property="og:image" content="{{ og_image | strip }}">
{% comment %}
  <style>
    @media screen and (min-width: 720px) {
      .medium-up--one-1,
      .medium-up--one-2,
      .medium-up--one-3,
      .medium-up--one-4,
      .medium-up--one-5 {
        clear: both;
        margin-right: 40px !important;
        margin-top: 0px !important;
      }
      .medium-up--one-1 {
        width: 100% !important;
      }
      .medium-up--one-2 {
        width: calc((100% - 80px) / 2) !important;
      }
      .medium-up--one-3 {
        width: calc((100% - 120px) / 3) !important;
      }
      .medium-up--one-4 {
        width: calc((100% - 160px) / 4) !important;
      }
      .medium-up--one-5 {
        width: calc((100% - 200px) / 5) !important;
      }
    }
  </style>
{% endcomment %}
<!-- Google Fonts -->
<link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Shippori+Mincho&family=Shippori+Mincho+B1&display=swap"
  rel="stylesheet"
>
<!-- icon fonts -->
<style>
  @font-face {
    font-family: 'icon';
    src: url('{{ theme_file_root_path }}/assets/icons/icon.eot?qlbxbb');
    src: url('{{ theme_file_root_path }}/assets/icons/icon.eot?qlbxbb#iefix') format('embedded-opentype'),
    url('{{ theme_file_root_path }}/assets/icons/icon.ttf?qlbxbb') format('truetype'),
    url('{{ theme_file_root_path }}/assets/icons/icon.woff?qlbxbb') format('woff'),
    url('{{ theme_file_root_path }}/assets/icons/icon.svg?qlbxbb#icon') format('svg');
    font-weight: normal;
    font-style: normal;
    font-display: block;
  }
</style>
<link rel="stylesheet" href="{{ theme_file_root_path }}/assets/util.css" type="text/css">
<link rel="stylesheet" href="{{ theme_file_root_path }}/assets/bundle.css" type="text/css">
<link rel="stylesheet" href="{{ theme_file_root_path }}/assets/theme.css" type="text/css">
<script src="{{ theme_file_root_path }}/assets/bundle.js" type="text/javascript" defer></script>
{% if show_favicon %}
  {% assign image_url = settings.settings.favicon.settings.favicon | generate_image_url: theme_file_root_path %}
  <link id="favicon" rel="shortcut icon" href="{{ image_url }}" type="image/png">
{% endif %}
<script id="OnlineStoreEditorData" type="application/json">
  {{ online_store_editor_data }}
</script>
<script type="module" crossorigin src="{{ file_root_path }}/assets/js/main.js"></script>
<link rel="stylesheet" href="{{ file_root_path }}/assets/css/style.css">
{{ yield_additional_header_content }}
